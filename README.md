# Fruit

<a href="https://github.com/Corkscrews/fruit/actions"><img src="https://github.com/Corkscrews/fruit/workflows/Tests/badge.svg" alt="Github Workflow Status"></a>

Screensaver of the vintage üçé logo made purely with `NSBezierPath` and masks in Swift. Now with support to EDR!

Compatible with macOS 11.5 and later.

<p align="center">
  <img src="https://github.com/Corkscrews/fruit/blob/master/art/screenshot.gif" width="600"/>
</p>

### Options

Now you can select four different fruit types:

 - Rainbow
 - Solid
 - Linear gradient
 - Circular gradient
  
*You are welcome to create new designs through PRs!*

You can change those under the options from `System Settings` -> `Screen saver` -> `Options...`.

<p align="center">
  <img src="https://github.com/Corkscrews/fruit/blob/master/art/options_menu.png" width="600"/>
</p>

### Install

1. Run `brew install --cask --no-quarantine fruit-screensaver`

### Install manually

1. [Click here to Download](https://github.com/Corkscrews/fruit/releases/download/1.3.0/Fruit.saver.tar.gz)
2. Open **Fruit.saver** (double click).
3. `"Fruit.saver" can't be opened because it is from an unidentified developer` will appear, press `OK`.
4. Open `Preferences`.
5. Select `Security & Privacy`.
6. Select `General`.
7. On the bottom side, select `Open Anyway`.

If this doesn't work, please do the manual described below.

### Install from the source code

1. Clone the project.
2. Open the `Fruit.xcodeproj`, select `Fruit` target  and `Archive` it.
3. Open the `.xcarchive` generated by right-click and select `Show Package Contents`, go to `Products` folder till you find the `.saver` file, double click on it.
4. You should have installed it by now, go to your screensaver settings and confirm if the screensaver is selected.
   
## Troubleshooting ü§ï

If the screenshot displays a black screen, you need to do some actions to get it back:

1. Delete your old output files before running a new build.
2. Build your project.
3. Go to **Activity Monitor** and force quit any `legacyScreenSaver` processes (especially on Sonoma ‚Äì we‚Äôll discuss this more [later](https://zsmb.co/building-a-macos-screen-saver-in-kotlin/#macos-sonoma)).
4. Go to **System Settings**, choose any screen saver other than your custom one.
5. Delete your custom screen saver from **System Settings**.
6. Quit **System Settings**.
7. Install your new screen saver and perform the dialog dance.

### Still not working?

The Fruit screen saver can be blocked by the system as a malicious software. Sometimes on macOS Big Sur clicking `Open Anyway` in `Security & Privacy` is not fixing the issue.  

To bypass this quarantine made by üçé, you can use this command in your terminal :

```shellxc
sudo xattr -d com.apple.quarantine ~/"Library/Screen Savers/Fruit.saver"
```

### Special thanks

I would like to thank [M√°trton Braun](https://github.com/zsmb13) for helping me to fix the issues related to macOS Sonoma in his article: https://zsmb.co/building-a-macos-screen-saver-in-kotlin. Also thank you [pedrommcarrasco](https://github.com/pedrommcarrasco) for providing Brooklyn that massively helped and guided me to develop this screensaver.

## License

Fruit is available under the MIT license. See the [LICENSE](https://github.com/Corkscrews/fruit/blob/master/LICENSE) file for more information. Logo & original animations are Apple's property.
